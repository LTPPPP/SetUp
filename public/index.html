<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bàn phỏng vấn</title>
    <link rel="stylesheet" href="./assets/style.css">
</head>

<body>
    <h1>Bàn phỏng vấn</h1>
    <div id="tables">
        <div class="table-container">
            <div class="table-title">Bàn 2</div>
            <div class="button-group">
                <div class="button-container">
                    <div class="notification" id="notification0"></div>
                    <button class="button green" id="button0">Bảo Nguyên</button>
                </div>
                <div class="button-container">
                    <div class="notification" id="notification1"></div>
                    <button class="button green" id="button1">Phan<br>Thuận</button>
                </div>
            </div>
        </div>
        <div class="table-container">
            <div class="table-title">Bàn 4</div>
            <div class="button-group">
                <div class="button-container">
                    <div class="notification" id="notification2"></div>
                    <button class="button green" id="button2">Tấn<br>Cường</button>
                </div>
                <div class="button-container">
                    <div class="notification" id="notification3"></div>
                    <button class="button green" id="button3">Hoàng<br>Đạt</button>
                </div>
            </div>
        </div>
        <div class="table-container">
            <div class="table-title">Bàn 1</div>
            <div class="button-group">
                <div class="button-container">
                    <div class="notification" id="notification4"></div>
                    <button class="button green" id="button4">Đại<br>Nhân</button>
                </div>
                <div class="button-container">
                    <div class="notification" id="notification5"></div>
                    <button class="button green" id="button5">Minh<br>Phúc</button>
                </div>
            </div>
        </div>
        <div class="table-container">
            <div class="table-title">Bàn 3</div>
            <div class="button-group">
                <div class="button-container">
                    <div class="notification" id="notification6"></div>
                    <button class="button green" id="button6">Lê<br>Thịnh</button>
                </div>
                <div class="button-container">
                    <div class="notification" id="notification7"></div>
                    <button class="button green" id="button7">Minh<br>Tiến</button>
                </div>
            </div>
        </div>
    </div>
    <audio id="notificationSound" src="./assets/sound/alarm.wav"></audio>

    <script>
        const notificationSound = document.getElementById('notificationSound');

        // Array of button elements
        const buttons = Array.from({ length: 8 }, (_, i) => document.getElementById(`button${i}`));

        // Array of notification elements
        const notifications = Array.from({ length: 8 }, (_, i) => document.getElementById(`notification${i}`));

        // Check if all buttons are green
        const allButtonsGreen = () => buttons.every(button => button.classList.contains('green'));

        // Handle click event for each button
        buttons.forEach((button, index) => {
            button.addEventListener('click', () => {
                console.log(`Button ${index} clicked`);

                // Toggle button color between green and red, and update the notification text
                if (button.classList.contains('green')) {
                    button.classList.remove('green');
                    button.classList.add('red');
                    notifications[index].textContent = 'Bàn Đang phỏng vấn'; // Update notification text
                } else {
                    button.classList.remove('red');
                    button.classList.add('green');
                    notifications[index].textContent = 'Bàn Trống'; // Clear notification
                }

                // Check if all buttons are green
                if (allButtonsGreen()) {
                    notificationSound.play(); // Play sound only when all buttons are green
                }
            });
        });
    </script>
</body>

</html>